<!DOCTYPE html>

<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Shop</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>

 <header>
    <h1>Online-shop</h1>
    <div class="container">
        <h1 class="logo">MyShop</h1>
        <nav>
            <ul>
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'catalog' %}">Catalog</a></li>
                {% if user.is_authenticated %}
                <a href="{% url 'cart' %}">Cart</a>
                {% endif %}
                {% if user.is_authenticated %}
                    <li><p>Welcome, {{ user.username }}!</p></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                {% else %}
                    <li><a href="{% url 'login' %}">Login</a></li>
                    <li><a href="{% url 'register' %}">Register</a></li>
                {% endif %}
            </ul>
        </nav>
    </div>
</header>

<h1>Your Cart</h1>

{% for item in cart_items %}
<div>
    <strong>{{ item.product.name }}</strong> - 
    <form method="post" action="{% url 'decrease_quantity' item.id %}" style="display:inline;">{% csrf_token %}
      <button type="submit">−</button>
    </form>
    {{ item.quantity }}
    <form method="post" action="{% url 'increase_quantity' item.id %}" style="display:inline;">{% csrf_token %}
      <button type="submit">+</button>
    </form>
    × ${{ item.product.price }}
  </div>
  
    <p>Total: ${{ item.get_total_price }}</p>
    <a href="{% url 'remove_from_cart' item.id %}">Remove</a>
    <hr>
{% endfor %}

<h3>Total: ${{ total }}</h3>

<a href="{% url 'checkout' %}">Proceed to Checkout</a>

</body>

</html>